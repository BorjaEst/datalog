%%%-------------------------------------------------------------------
%%% @author borja
%%% @copyright (C) 2018, <COMPANY>
%%% @doc
%%%
%%% @end
%%% Created : 16. Aug 2018 13:08
%%%-------------------------------------------------------------------
-module(nnref).

-include_lib("eunit/include/eunit.hrl").

%% API
-export([new/0, list/1]).


%%====================================================================
%% API
%%====================================================================


%%--------------------------------------------------------------------
%% @doc
%%
%%
%% @end
%%--------------------------------------------------------------------
%TODO: Correct specs
-ifdef(debug_mode).
new() -> rand:uniform(99999) + 100000.  % Dirty CODE!!! Prints better but not save, use make_ref()
-else.
new() -> make_ref().
-endif.

%%--------------------------------------------------------------------
%% @doc
%%
%%
%% @end
%%--------------------------------------------------------------------
%TODO: Correct specs
-ifdef(debug_mode).
list(Ref) when is_integer(Ref) -> integer_to_list(Ref);  % Dirty CODE!!! Prints better but not save, use make_ref()
list(Ref) when is_atom(Ref) -> atom_to_list(Ref);
list(Ref) -> Ref.
-else.
list(Ref) when is_reference(Ref)  -> ref_to_list(Ref);
list(Ref) when is_atom(Ref) -> atom_to_list(Ref);
list(Ref) -> Ref.
-endif.

%%====================================================================
%% Eunit white box tests
%%====================================================================

% ----------------------------------------------------------------------------------------------------------------------
% TESTS DESCRIPTIONS ---------------------------------------------------------------------------------------------------
single_rwd_elements_test_() ->
	% {setup, Where, Setup, Cleanup, Tests | Instantiator}
	[
		{"A test example with description",
		 {setup, local, fun no_setup/0, fun no_cleanup/1, fun test_example/1}}
	].

% ----------------------------------------------------------------------------------------------------------------------
% SPECIFIC SETUP FUNCTIONS ---------------------------------------------------------------------------------------------
no_setup() ->
	ok.

no_cleanup(_) ->
	ok.

% ----------------------------------------------------------------------------------------------------------------------
% ACTUAL TESTS ---------------------------------------------------------------------------------------------------------
test_example(_) ->
	[
		?_assert(true),
		?_assert(true)
	].

% ----------------------------------------------------------------------------------------------------------------------
% SPECIFIC HELPER FUNCTIONS --------------------------------------------------------------------------------------------




